---
title: 设计模式(13)-组合模式
date: 2020-01-04  16:14:11
categories:
- 设计模式
tags:
- 设计模式
- 代理模式
- 适配器模式
- demo
---
## 摘要

* 
  <!--more-->
## 场景

两个对象因**接口不兼容**而不能在一起工作的实例，这时需要第三者进行**适配**

* USB转HDMI接口，此时转接头就是适配器
* 翻译官是适配器

## 概念

> 适配器模式分为类结构型模式和对象结构型模式两种，前者类之间的耦合度比后者高，且要求程序员了解现有组件库中的相关组件的内部结构，所以应用相对较少些。

### 优点

* 客户端通过适配器可以透明地调用目标接口。
* 复用了现存的类，程序员不需要修改原有代码而重用现有的适配者类。
* 将目标类和适配者类解耦，解决了目标类和适配者类接口不一致的问题。
* 在很多业务场景中符合开闭原则。

### 缺点

* 适配器编写过程需要结合业务场景全面考虑，可能会增加系统的复杂性。
* 增加代码阅读难度，降低代码可读性，过多使用适配器会使系统代码变得凌乱。

### 主要角色

1. 抽象主题（Subject）类：通过接口或抽象类声明真实主题和代理对象实现的业务方法。
2. 真实主题（Real Subject）类：实现了抽象主题中的具体业务，是代理对象所代表的真实对象，是最终要引用的对象。
3. 代理（Proxy）类：提供了与真实主题相同的接口，其内部含有对真实主题的引用，它可以访问、控制或扩展真实主题的功能。

### 静态代理和动态代理

在代码中，一般代理会被理解为代码增强，实际上就是在原代码逻辑前后增加一些代码逻辑，而使调用者无感知。

根据代理的创建时期，代理模式分为静态代理和动态代理。

- 静态：由程序员创建代理类或特定工具自动生成源代码再对其编译，在程序运行前代理类的 .class 文件就已经存在了。
- 动态：在程序运行时，运用反射机制动态创建而成

## 模式的结构与实现

> 

## 实例



## 参考

[1].[适配器模式（Adapter模式）详解](http://c.biancheng.net/view/1361.html)

